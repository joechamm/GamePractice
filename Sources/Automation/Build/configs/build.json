{
    "build": {
        "build-vars": {
            "root_path:path": "{this-file-path}/../../../..",
            "cmake_out_path:path": "{root_path}/_cmake/{args:platform}{self:platform-suffix}/{self:build-type}",
            "android_bins_out_path:path" : "{root_path}/_build/{args:platform}/{args:build-type}",
            "bins_out_path:path": "{root_path}/_build/{args:platform}{self:platform-suffix}/{args:build-type}",
            "default_ext:path": "{this-file-path}/build_step_extension.json",
            "android-project:path": "{root_path}/Platform/Android/app"
        },
        "build-steps": [
            {
                "step-name": "GLFW",
                "supported-platforms": [
                    "Linux",
                    "Windows"
                ],
                "step-extension": "{default_ext}",
                "build-type": "Release",
                "cmake": {
                    "out-dir": "{cmake_out_path}/GLFW",
                    "run-dir": "{root_path}/Sources/Libs/GLFW",
                    "defs": {
                        "All": {
                            "BUILD_SHARED_LIBS": "ON",
                            "GLFW_BUILD_EXAMPLES": "OFF",
                            "GLFW_BUILD_TESTS": "OFF",
                            "GLFW_BUILD_DOCS": "OFF"
                        }
                    }
                }
            },
            {
                "step-name": "GLAD",
                "supported-platforms": [
                    "Linux",
                    "Windows"
                ],
                "build-type": "{args:build-type}",
                "step-extension": "{default_ext}",
                "cmake": {
                    "out-dir": "{cmake_out_path}/GLAD",
                    "run-dir": "{root_path}/Sources/Libs/GLAD",
                    "defs": {
                        "Debug": {
                            "GLAD_GENERATOR": "c-debug"
                        }
                    }
                },
                "install": {
                    "include-dir": {
                        "dir": "include",
                        "from": "{cmake_out_path}/GLAD",
                        "to": "{bins_out_path}/GLAD",
                        "force": true
                    }
                }
            },
            {
                "step-name": "FreeType2",
                "supported-platforms": [
                    "Linux",
                    "Windows",
                    "Android"
                ],
                "step-extension": "{default_ext}",
                "build-type": "Release",
                "cmake": {
                    "out-dir": "{cmake_out_path}/FreeType2",
                    "run-dir": "{root_path}/Sources/Libs/FreeType2",
                    "defs" : {
                        "All" : {
                            "FT_WITH_ZQLIB" : "ON"
                        }
                    }
                }
            },
            {
                "step-name": "GTEST",
                "build-type": "Debug",
                "supported-platforms": [
                    "Linux",
                    "Windows"
                ],
                "step-extension": "{default_ext}",
                "cmake": {
                    "out-dir": "{cmake_out_path}/GTEST",
                    "run-dir": "{root_path}/Sources/Libs/GTEST",
                    "defs": {
                        "All": {
                            "gtest_force_shared_crt": "ON"
                        }
                    }
                }
            },
            {
                "step-name": "Game01",
                "supported-platforms": [
                    "Linux",
                    "Windows",
                    "Android"
                ],
                "build-type": "{args:build-type}",
                "step-extension": "{default_ext}",
                "cmake": {
                    "out-dir": "{cmake_out_path}/Game01",
                    "run-dir": "{root_path}/Sources/Code",
                    "defs": {
                        "All": {
                            "APP_BUILD_PLATFORM": "{args:platform}"
                        }
                    }
                }
            }
        ],
        "test-steps": {
            "unittests": {
                "platform": [
                    "Linux",
                    "Windows"
                ],
                "platform-suffix": "",
                "name": "{bins_out_path}/Game01Tests",
                "run-dir": "{bins_out_path}"
            }
        }
    }
}