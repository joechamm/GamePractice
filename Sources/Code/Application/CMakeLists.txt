cmake_minimum_required(VERSION 3.10)

project(Application)

if(APP_BUILD_PLATFORM STREQUAL "Windows" OR APP_BUILD_PLATFORM STREQUAL "Linux")
    set(APPLCATION_PLATFORM_SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/Platforms/Desktop)
elseif(APP_BUILD_PLATFORM STREQUAL "Android")
    set(APPLCATION_PLATFORM_SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/Platforms/Android)
endif()

file(GLOB APPLICATION_SOURCES
    ${CMAKE_CURRENT_SOURCE_DIR}/*.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/Game/*.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/Applcation/*.cpp
    ${APPLCATION_PLATFORM_SOURCES}/*.cpp)
file(GLOB APPLICATION_HEADERS
    ${CMAKE_CURRENT_SOURCE_DIR}/*.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/Game/*.hpp
    ${CMAKE_CURRENT_SOURCE_DIR}/Applcation/*.hpp
    ${APPLCATION_PLATFORM_SOURCES}/*.hpp)

include_directories(${CMAKE_CURRENT_SOURCE_DIR} ${GLFW_INCLUDE_DIR} ${GLAD_INCLUDE_DIR})

add_library(${PROJECT_NAME} STATIC ${APPLICATION_SOURCES} ${APPLICATION_HEADERS})